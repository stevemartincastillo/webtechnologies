<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Final Tally</title>
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/main.css">
    <script src="js/main.js"></script>
</head>

<body>
    <header> 
        <div class="header-comp">
          <div class="header-comp-item">
            <nav> 
                <a href="index.html"><img src="images/homesm.png" alt="Home" class="hover-effect"/></a>
                <a href="start.html"><img src="images/start-game-down-sm.png" alt="Start Game" class="hover-effect"/></a>
                <a href="contacts.html"><img src="images/contactus.png" alt="Contact us" class="hover-effect"/></a> 
            </nav>
        </div>
            <div class="header-comp-name">Belize Music Master</div>
            <div class="header-comp-item"><img src="images/logo-trans-shadow.png" width="200" height="150" alt="Belize Music Master Logo"/></div>
        </div>
    </header> 
        
    <div class="container"> 
        <main id="main-content"> 
			

            <div id="trivia-container">
                <p>Loading badges...</p>
            </div>

                <script>

            // Retrieving scores
            const userScores = JSON.parse(localStorage.getItem("userScores")) || {};


            // Check if the user qualifies for the BMM badge
            checkBMM();

            // Retrieve badges from localStorage
            const badges = JSON.parse(localStorage.getItem("badges")) || { badges: [], isBMMAwarded: false };
            

            // Display badges
            const triviaContainer = document.getElementById("trivia-container");
            if (badges.isBMMAwarded) {
                triviaContainer.innerHTML = `
                   
                    <div>
                        <img src="images/northern-region-keeb-cert-bg.png" alt="Northern Region Badge" width="150" />
                        <img src="images/central-region-keeb-cert-bg.png" alt="Central Region Badge" width="150" />
                        <img src="images/rural-region-keeb-cert-bg.png" alt="Rural Region Badge" width="150" />
                        <img src="images/southern-region-keeb-cert-bg.png" alt="Southern Region Badge" width="150" />
                        <img src="images/southern-rural-region-keeb-cert-bg.png" alt="Southern Rural Region Badge" width="150" />
                    </div>
                 <h2>Congratulations, Winner!</h2>
You are now an official BMM—Belize Music Master! With the knowledge you’ve gained,
you’re ready to guide others through the vibrant tapestry of Belize, showcasing the
incredible people groups in each region. Their stories, traditions, and contributions are a
testament to their resilience and the rich cultural mosaic that makes Belize so unique.
We celebrate their worthiness in finding peace and prosperity, and we deeply
appreciate the beauty they bring to this nation—much like the vibrant colors and
intricate patterns you see on my beak and feathers.<br />
Thank you for participating in this journey of discovery. We hope you’ll visit again soon
to explore even more of Belize’s wonders. Until then, carry this knowledge with pride
and share the beauty of Belize with the world!

                `;
            } else {

              

                // Display the badges
         

                  // Check which badges are assigned
                  let badgeHTML = '<div>';
                if (badges.badges.includes("northern-cert")) {
                    badgeHTML += '<img src="images/northern-region-keeb-cert-bg.png" alt="Northern Region Badge" width="150" />';
                }
                if (badges.badges.includes("central-cert")) {
                    badgeHTML += '<img src="images/central-region-keeb-cert-bg.png" alt="Central Region Badge" width="150" />';
                }
                if (badges.badges.includes("rural-cert")) {
                    badgeHTML += '<img src="images/rural-region-keeb-cert-bg.png" alt="Rural Region Badge" width="150" />';
                }
                if (badges.badges.includes("southern-cert")) {
                    badgeHTML += '<img src="images/southern-region-keeb-cert-bg.png" alt="Southern Region Badge" width="150" />';
                }
                if (badges.badges.includes("southernRural-cert")) {
                    badgeHTML += '<img src="images/southern-rural-region-keeb-cert-bg.png" alt="Southern Rural Region Badge" width="150" />';
                }
                badgeHTML += '</div>';

                // Check which badges are assigned
                let buttonHTML = '<div>';
                if (!badges.badges.includes("northern-cert")) {
                    buttonHTML += '<button class="pill-button" id="northern-region">Northern Region</button>';
                }
                if (!badges.badges.includes("central-cert")) {
                    buttonHTML += '<button class="pill-button" id="central-region">Central Region</button>';
                }
                if (!badges.badges.includes("rural-cert")) {
                    buttonHTML += '<button class="pill-button" id="rural-region">Rural Region</button>';
                }
                if (!badges.badges.includes("southern-cert")) {
                    buttonHTML += '    <button class="pill-button" id="southern-region">Southern Region</button>';
                }
                if (!badges.badges.includes("southernRural-cert")) {
                    buttonHTML += '<button class="pill-button" id="southern-rural-region">Southern Rural Region</button>';
                }
                buttonHTML += '</div>';
                // Display the badges and buttons


                triviaContainer.innerHTML = `

                 ${badgeHTML}

                    <p>Here are the badges for areas you passed. Unfortunately they were not enough to award you the title of Belize Music Master.  You can try to retake the areas you failed.
Don’t give up.<br /> You’re on the right path, and every step counts. Keep going, and you’ll get there!<br />                           
You can do it.</p>
<p>Click on the buttons below to try the regions you failed again:</p>

 ${buttonHTML}




     
                `;
            
                

  
                                
// Add event listeners after the buttons are added to the DOM
if (document.getElementById("northern-region")) {
    document.getElementById("northern-region").addEventListener("click", function () {
        window.location.href = "northern-region.html";
    });
}

if (document.getElementById("central-region")) {
    document.getElementById("central-region").addEventListener("click", function () {
        window.location.href = "central-region.html";
    });
}

if (document.getElementById("rural-region")) {
    document.getElementById("rural-region").addEventListener("click", function () {
        window.location.href = "rural-region.html";
    });
}

if (document.getElementById("southern-region")) {
    document.getElementById("southern-region").addEventListener("click", function () {
        window.location.href = "southern-region.html";
    });
}

if (document.getElementById("southern-rural-region")) {
    document.getElementById("southern-rural-region").addEventListener("click", function () {
        window.location.href = "southern-rural-region.html";
    });
}
                }  
                


                </script>



        </main> 

        <aside> 
            <!-- Ensure the correct path to the image -->
            <img id="read-main-text" src="images/smallertoucan450.png" alt="Click to read the main content" title="Hi, I am Keebee! Would you like me to read for you? Click on me to start reading or to stop reading." onclick="toggleSpeech('trivia-container')" />
        </aside> 
    </div>
    
    <footer>(c) Copyright Belize Music Master 2025</footer>
</body>
</html>